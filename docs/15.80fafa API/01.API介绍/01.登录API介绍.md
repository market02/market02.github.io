---
title: 登录API介绍
date: 2025-09-30 11:19:49
permalink: /develop/config
categories:
  - 主题开发
tags:
  - 主题开发
---

## 登录 API 介绍

###  接口概述

**登录 API** 用于验证用户身份，确保用户是合法注册的账号。  
通过登录 API，用户提交凭证（通常是用户名/手机号/邮箱 + 密码，或验证码），后端验证成功后返回一个 **令牌（Token）** 或 **会话信息**，供后续接口调用时使用。
#### 1.1 请求信息

- **请求方式**：`POST`

- **请求地址**：`/api/auth/login`

- **请求头**：
  - `Content-Type: application/json`
  - （可选）`Accept-Language: zh-CN`    
#### 1.2 请求参数

| 字段名      | 类型     | 必填  | 说明             |
| -------- | ------ | --- | -------------- |
| username | string | 是   | 用户名 / 邮箱 / 手机号 |
| password | string | 是   | 用户密码（需加密传输）    |
| captcha  | string | 否   | 验证码（如有安全校验）    |

**示例请求**：
`{ "username": "testuser",   "password": "123456" }`
#### 1.3 响应结果

#### 成功
`{   "message": "Login successful",   "userId": 101,   "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",   "expiresIn": 3600 }`

- **message**：提示信息
- **userId**：用户唯一标识
- **token**：登录成功后颁发的访问令牌（通常是 JWT）
- **expiresIn**：Token 有效期（单位：秒）
#### 失败
`{ "message": "Invalid username or password",   "code": 401 }`
#### 1.4 使用方式

1. 用户登录成功后，客户端保存后端返回的 **token**。
2. 在后续调用需要认证的 API（如创建商品、查看订单）时，把 token 放在 **请求头**里：

`GET /api/products Authorization: Bearer <token>`
#### 1.5 注意事项

- 建议使用 **HTTPS** 传输，防止密码泄露。
- **Token** 应保存在安全的地方（如 HttpOnly Cookie 或加密存储），避免被恶意窃取。
- Token 过期后，需要用户重新登录，或调用刷新接口（Refresh Token）。
- 后端需做好防爆破措施（如登录失败次数过多则锁定一段时间）。

#### 1.6 扩展（可选）

- **支持多种登录方式**：账号密码、手机号 + 验证码、第三方登录（微信/Google 等）。
- **二次验证（MFA）**：在高安全场景下，可要求短信/邮件验证码或动态口令。
- **单点登录（SSO）**：多个系统共享登录凭证，提升用户体验。